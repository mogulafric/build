function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{Olgc:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var i=t("fXoL"),n=t("7zfz"),o=function(){var e=function(){function e(r){_classCallCheck(this,e),this.messageService=r}return _createClass(e,[{key:"addSingle",value:function(e,r,t){this.messageService.add({severity:e,summary:r,detail:t})}},{key:"addMultiple",value:function(e){this.messageService.addAll(e)}},{key:"clear",value:function(){this.messageService.clear()}}]),e}();return e.\u0275fac=function(r){return new(r||e)(i.Zb(n.d))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},Yj9t:function(e,r,t){"use strict";t.r(r);var i=t("ofXK"),n=t("tyNb"),o=t("tk/3"),s=t("3Pt+"),a=t("4WRT"),c=t("Olgc"),l=t("AytR"),d=t("fXoL"),u=t("7CaW");function b(e,r){1&e&&(d.Vb(0,"div"),d.Ic(1,"email is required"),d.Ub())}function f(e,r){1&e&&(d.Vb(0,"div"),d.Ic(1,"the email format is not correct"),d.Ub())}function p(e,r){if(1&e&&(d.Vb(0,"div",16),d.Gc(1,b,2,0,"div",17),d.Gc(2,f,2,0,"div",17),d.Ub()),2&e){var t=d.gc();d.Db(1),d.nc("ngIf",t.f.email.errors.required),d.Db(1),d.nc("ngIf",t.f.email.errors.pattern)}}function m(e,r){1&e&&(d.Vb(0,"div"),d.Ic(1,"Password is required"),d.Ub())}function v(e,r){1&e&&(d.Vb(0,"div"),d.Ic(1,"Password must be at least 3 characters"),d.Ub())}function g(e,r){if(1&e&&(d.Vb(0,"div",16),d.Gc(1,m,2,0,"div",17),d.Gc(2,v,2,0,"div",17),d.Ub()),2&e){var t=d.gc();d.Db(1),d.nc("ngIf",t.f.password.errors.required),d.Db(1),d.nc("ngIf",t.f.password.errors.minlength)}}var h,w,y=function(e){return{"is-invalid":e}},C=[{path:"",component:(h=function(){function e(r,t,i,n){_classCallCheck(this,e),this.routeStateService=r,this.formBuilder=t,this.http=i,this.toastService=n,this.loading=!1,this.submitted=!1,this.apiURL=l.a.apiUrl}return _createClass(e,[{key:"ngOnInit",value:function(){this.version=l.a.version,this.form=this.formBuilder.group({email:["",s.u.required],password:["",s.u.required]})}},{key:"onSubmit",value:function(){var e=this;if(this.submitted=!0,!this.form.invalid&&this.form.valid){var r=JSON.stringify(this.form.value);this.http.post(this.apiURL+"/auth/login",r,{headers:new o.c({"Content-Type":"application/json","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Origin":"*","Cross-Origin":"true","Access-Control-Allow-Methods":"GET, POST, PATCH, DELETE, PUT, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"})}).subscribe((function(r){localStorage.setItem("jwt",r.accessToken),e.routeStateService.add("Dashboard","/main/dashboard",null,!0),e.toastService.addSingle("success","login successfully","")}),(function(r){e.toastService.addSingle("error","sorry, an error occurred try again","check your email, password or internet connection")}))}}},{key:"f",get:function(){return this.form.controls}}]),e}(),h.\u0275fac=function(e){return new(e||h)(d.Pb(a.a),d.Pb(s.c),d.Pb(o.a),d.Pb(c.a))},h.\u0275cmp=d.Jb({type:h,selectors:[["app-login"]],decls:27,vars:11,consts:[[1,"login-panel"],[1,"p-grid","p-nogutter","p-justify-center","p-align-center",2,"height","100%"],[1,"p-xl-3","p-lg-6","p-md-8","p-sm-10"],[3,"header"],[3,"formGroup","ngSubmit"],[1,"p-grid","p-justify-center","p-align-center"],[1,"p-xl-6","p-lg-6","p-md-8","p-sm-10"],["src","assets/images/logo-large1.png",1,"login-logo"],[1,"p-col-12"],[1,"form-group"],["type","email","formControlName","email","placeholder","Enter user Email","pattern","^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Enter Password","minlength","3",1,"form-control",3,"ngClass"],[1,"btn","btn-primary"],[1,"extra-page-footer"],[1,"color-red"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,r){1&e&&(d.Vb(0,"div",0),d.Vb(1,"div",1),d.Vb(2,"div",2),d.Vb(3,"p-panel",3),d.Vb(4,"form",4),d.dc("ngSubmit",(function(){return r.onSubmit()})),d.Vb(5,"div",5),d.Vb(6,"div",6),d.Qb(7,"img",7),d.Ub(),d.Vb(8,"div",8),d.Vb(9,"div",9),d.Qb(10,"input",10),d.Gc(11,p,3,2,"div",11),d.Ub(),d.Ub(),d.Vb(12,"div",8),d.Vb(13,"div",9),d.Qb(14,"input",12),d.Gc(15,g,3,2,"div",11),d.Ub(),d.Ub(),d.Ub(),d.Vb(16,"div",9),d.Vb(17,"button",13),d.Ic(18," Login "),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(19,"div",14),d.Vb(20,"div"),d.Ic(21,"School system. Made with "),d.Vb(22,"span",15),d.Ic(23,"\u2764"),d.Ub(),d.Ic(24,"."),d.Ub(),d.Vb(25,"div"),d.Ic(26),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&e&&(d.Db(3),d.oc("header","Login Page"),d.Db(1),d.nc("formGroup",r.form),d.Db(6),d.nc("ngClass",d.qc(7,y,r.submitted&&r.f.email.errors)),d.Db(1),d.nc("ngIf",r.submitted&&r.f.email.errors),d.Db(3),d.nc("ngClass",d.qc(9,y,r.submitted&&r.f.password.errors)),d.Db(1),d.nc("ngIf",r.submitted&&r.f.password.errors),d.Db(11),d.Kc("Version : ",r.version,""))},directives:[u.a,s.w,s.l,s.f,s.b,s.k,s.e,s.q,i.i,i.k,s.i],styles:[""]}),h)}],U=((w=function e(){_classCallCheck(this,e)}).\u0275mod=d.Nb({type:w}),w.\u0275inj=d.Mb({factory:function(e){return new(e||w)},imports:[[n.g.forChild(C)],n.g]}),w),V=t("sYmb"),S=t("EQGD"),k=t("ZAI4");t.d(r,"AuthModule",(function(){return P}));var I,P=((I=function e(){_classCallCheck(this,e)}).\u0275mod=d.Nb({type:I}),I.\u0275inj=d.Mb({factory:function(e){return new(e||I)},imports:[[i.b,U,s.h,s.r,S.a,V.b.forChild({loader:{provide:V.a,useFactory:k.b,deps:[o.a]},isolate:!1})]]}),I)}}]);