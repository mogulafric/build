(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/xyv":function(t,e,r){"use strict";r.r(e);var s=r("ofXK"),i=r("tyNb"),o=r("Olgc"),c=r("4hmF"),n=r("xHgC"),a=r("7dYx"),l=r("DNhi"),h=r("fXoL"),u=r("3Pt+"),b=r("24YL");function p(t,e){if(1&t&&(h.Vb(0,"option",20),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.nc("value",t._id),h.Db(1),h.Kc(" ",t.teacherName," ")}}function d(t,e){if(1&t&&(h.Vb(0,"option",20),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.nc("value",t._id),h.Db(1),h.Kc(" ",t.subjectName," ")}}function g(t,e){if(1&t&&(h.Vb(0,"option",20),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.nc("value",t._id),h.Db(1),h.Kc(" ",t.unitName," ")}}const f=[{path:"",component:(()=>{class t{constructor(t,e,r,s,i,o,c,n,a){this.location=t,this.subjectTeacherService=e,this.teacherService=r,this.subjectService=s,this.classService=i,this.toastService=o,this.router=c,this.formBuilder=n,this.actRoute=a,this.history=[],this.subjectTeacher=[],this.teachers=[],this.subjects=[],this.classes=[],this._id=this.actRoute.snapshot.paramMap.get("_id"),this.subjectTeacherService.getSubjectTeacher(this._id).subscribe(t=>{this.subjectTeacher=t.data,this.editForm.patchValue(t.data)}),this.editForm=this.formBuilder.group({_id:[""],subjectID:[""],teacherID:[""],unitID:[""]})}ngOnInit(){this.getTeacherService(),this.getSubjectService()}getTeacherService(){this.teacherService.getTeachers().subscribe(t=>{this.teachers=t.data},t=>{this.toastService.addSingle("error","sorry, an error occurred try again","")})}getSubjectService(){this.subjectService.getSubjects().subscribe(t=>{this.subjects=t.data},t=>{this.toastService.addSingle("error","sorry, an error occurred try again","")})}getClassService(){this.classService.getClasses().subscribe(t=>{this.classes=t.data},t=>{this.toastService.addSingle("error","sorry, an error occurred try again","")})}onSubmit(t){this.subjectTeacherService.updateSubjectTeacher(this._id,t.value).subscribe(t=>{this.toastService.addSingle("success","data added successfully",""),this.router.navigateByUrl("/main/subjectTeachers")},t=>{this.toastService.addSingle("error","sorry, an error occurred try again","")})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/main/subjectTeachers")}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(s.g),h.Pb(l.a),h.Pb(a.a),h.Pb(c.a),h.Pb(n.a),h.Pb(o.a),h.Pb(i.c),h.Pb(u.c),h.Pb(i.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-edit-subject-teacher"]],decls:38,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"card","card-default"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["formControlName","_id","id","_id","type","hidden"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","teacherID"],["formControlName","teacherID","id","teacherID",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","subjectID"],["formControlName","subjectID","id","subjectID",1,"form-control"],["for","unitID"],["formControlName","unitID","id","unitID",1,"form-control"],[1,"card-footer"],["type","submit",1,"btn","btn-info","mx-2",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(t,e){1&t&&(h.Qb(0,"app-header-breadcrumb"),h.Vb(1,"form",0),h.dc("ngSubmit",(function(){return e.onSubmit(e.editForm)})),h.Vb(2,"div",1),h.Vb(3,"div",2),h.Vb(4,"h6",3),h.Ic(5,"Update Details"),h.Ub(),h.Ub(),h.Vb(6,"div",4),h.Qb(7,"input",5),h.Vb(8,"div",6),h.Vb(9,"div",7),h.Vb(10,"div",8),h.Vb(11,"label",9),h.Ic(12,"Teacher"),h.Ub(),h.Vb(13,"select",10),h.Vb(14,"option",11),h.Ic(15,"--Select teacher--"),h.Ub(),h.Gc(16,p,2,2,"option",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(17,"div",7),h.Vb(18,"div",8),h.Vb(19,"label",13),h.Ic(20,"Subject"),h.Ub(),h.Vb(21,"select",14),h.Vb(22,"option",11),h.Ic(23,"--Select subject--"),h.Ub(),h.Gc(24,d,2,2,"option",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(25,"div",7),h.Vb(26,"div",8),h.Vb(27,"label",15),h.Ic(28,"Class"),h.Ub(),h.Vb(29,"select",16),h.Vb(30,"option",11),h.Ic(31,"--Select class--"),h.Ub(),h.Gc(32,g,2,2,"option",12),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(33,"div",17),h.Vb(34,"button",18),h.Ic(35,"Update"),h.Ub(),h.Vb(36,"button",19),h.dc("click",(function(){return e.back()})),h.Ic(37,"Cancel"),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t&&(h.Db(1),h.nc("formGroup",e.editForm),h.Db(15),h.nc("ngForOf",e.teachers),h.Db(8),h.nc("ngForOf",e.subjects),h.Db(8),h.nc("ngForOf",e.classes),h.Db(2),h.nc("disabled",!e.editForm.valid))},directives:[b.a,u.w,u.l,u.f,u.b,u.k,u.e,u.t,u.o,u.v,s.j],styles:[""]}),t})()}];let j=(()=>{class t{}return t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(f)],i.g]}),t})();var S=r("EQGD"),v=r("K0h9");r.d(e,"EditSubjectTeacherModule",(function(){return C}));let C=(()=>{class t{}return t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({factory:function(e){return new(e||t)},imports:[[s.b,j,S.a,v.a]]}),t})()},"4hmF":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var s=r("tk/3"),i=r("z6cu"),o=r("JIr8"),c=r("AytR"),n=r("fXoL");let a=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=c.a.apiUrl,this.httpOptions={headers:new s.c({"Content-Type":"application/json","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Origin":"*","Cross-Origin":"true","Access-Control-Allow-Methods":"GET, POST, PATCH, DELETE, PUT, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With",Authorization:"Bearer "+localStorage.getItem("jwt")})}}getSubjects(){return this.httpClient.get(this.apiURL+"/subjects/getallsubjects",this.httpOptions).pipe(Object(o.a)(this.errorHandler))}getSubject(t){return this.httpClient.get(this.apiURL+"/subjects/getsubjectbuid/"+t,this.httpOptions)}createSubject(t){return this.httpClient.post(this.apiURL+"/subjects/registersubject",JSON.stringify(t),this.httpOptions).pipe(Object(o.a)(this.errorHandler))}updateSubject(t,e){return this.httpClient.patch(this.apiURL+"/subjects/updatesubject",JSON.stringify(e),this.httpOptions).pipe(Object(o.a)(this.errorHandler))}deleteSubject(t){return this.httpClient.delete(this.apiURL+"/subjects/archive/"+t,this.httpOptions).pipe(Object(o.a)(this.errorHandler))}errorHandler(t){let e="";return t.error instanceof ErrorEvent?(e=t.error.message,console.log("Client Side Error",e)):(e=`Server Side Error Code: ${t.status}\n Message: ${t.message}`,console.log(e)),Object(i.a)(console.log(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Zb(s.a))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},DNhi:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var s=r("tk/3"),i=r("z6cu"),o=r("JIr8"),c=r("AytR"),n=r("fXoL");let a=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=c.a.apiUrl,this.httpOptions={headers:new s.c({"Content-Type":"application/json","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Origin":"*","Cross-Origin":"true","Access-Control-Allow-Methods":"GET, POST, PATCH, DELETE, PUT, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With",Authorization:"Bearer "+localStorage.getItem("jwt")})}}getSubjectTeachers(){return this.httpClient.get(`${this.apiURL}/subjects/getallsubjectteacherspersclass`,this.httpOptions).pipe(Object(o.a)(this.errorHandler))}getSubjectTeacher(t){return this.httpClient.get(`${this.apiURL}/subjects/getsubjectteacherperclassbyid/${t}`,this.httpOptions).pipe(Object(o.a)(this.errorHandler))}createSubjectTeacher(t){return this.httpClient.post(this.apiURL+"/subjects/registersubjectteacherperclass",JSON.stringify(t),this.httpOptions).pipe(Object(o.a)(this.errorHandler))}updateSubjectTeacher(t,e){return this.httpClient.patch(`${this.apiURL}/subjects/getsubjectteacherperclassbyid`,JSON.stringify(e),this.httpOptions).pipe(Object(o.a)(this.errorHandler))}deleteSubjectTeacher(t){return this.httpClient.delete(`${this.apiURL}/subjects/archive`,this.httpOptions).pipe(Object(o.a)(this.errorHandler))}errorHandler(t){let e="";return t.error instanceof ErrorEvent?(e=t.error.message,console.log("Client Side Error",e)):(e=`Server Side Error Code: ${t.status}\n Message: ${t.message}`,console.log(e)),Object(i.a)(console.log(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Zb(s.a))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},K0h9:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var s=r("EQGD"),i=r("fXoL");let o=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},imports:[[s.a]]}),t})()},Olgc:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var s=r("fXoL"),i=r("7zfz");let o=(()=>{class t{constructor(t){this.messageService=t}addSingle(t,e,r){this.messageService.add({severity:t,summary:e,detail:r})}addMultiple(t){this.messageService.addAll(t)}clear(){this.messageService.clear()}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(i.d))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},xHgC:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var s=r("tk/3"),i=r("z6cu"),o=r("JIr8"),c=r("AytR"),n=r("fXoL");let a=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=c.a.apiUrl,this.httpOptions={headers:new s.c({"Content-Type":"application/json","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Origin":"*","Cross-Origin":"true","Access-Control-Allow-Methods":"GET, POST, PATCH, DELETE, PUT, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With",Authorization:"Bearer "+localStorage.getItem("jwt")})}}getClasses(){return this.httpClient.get(this.apiURL+"/units/getallunits",this.httpOptions).pipe(Object(o.a)(this.errorHandler))}getClass(t){return this.httpClient.get(`${this.apiURL}/units/getunit/${t}`,this.httpOptions).pipe(Object(o.a)(this.errorHandler))}createClass(t){return this.httpClient.post(`${this.apiURL}/units/registerunit`,JSON.stringify(t),this.httpOptions).pipe(Object(o.a)(this.errorHandler))}updateClass(t,e){return this.httpClient.patch(`${this.apiURL}/units/updateunit`,JSON.stringify(e),this.httpOptions).pipe(Object(o.a)(this.errorHandler))}deleteClass(t){return this.httpClient.delete(`${this.apiURL}/units/archive/${t}`,this.httpOptions).pipe(Object(o.a)(this.errorHandler))}errorHandler(t){let e="";return t.error instanceof ErrorEvent?(e=t.error.message,console.log("Client Side Error",e)):(e=`Server Side Error Code: ${t.status}\n Message: ${t.message}`,console.log(e)),Object(i.a)(console.log(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Zb(s.a))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);