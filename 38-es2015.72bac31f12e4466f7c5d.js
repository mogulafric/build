(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{K0h9:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var r=i("EQGD"),o=i("fXoL");let a=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[r.a]]}),t})()},xHgC:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i("tk/3"),o=i("z6cu"),a=i("JIr8"),s=i("AytR"),n=i("fXoL");let c=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=s.a.apiUrl,this.httpOptions={headers:new r.c({"Content-Type":"application/json","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Origin":"*","Cross-Origin":"true","Access-Control-Allow-Methods":"GET, POST, PATCH, DELETE, PUT, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With",Authorization:"Bearer "+localStorage.getItem("jwt")})}}getClasses(){return this.httpClient.get(this.apiURL+"/units/getallunits",this.httpOptions).pipe(Object(a.a)(this.errorHandler))}getClass(t){return this.httpClient.get(`${this.apiURL}/units/getunit/${t}`,this.httpOptions).pipe(Object(a.a)(this.errorHandler))}createClass(t){return this.httpClient.post(`${this.apiURL}/units/registerunit`,JSON.stringify(t),this.httpOptions).pipe(Object(a.a)(this.errorHandler))}updateClass(t,e){return this.httpClient.patch(`${this.apiURL}/units/updateunit`,JSON.stringify(e),this.httpOptions).pipe(Object(a.a)(this.errorHandler))}deleteClass(t){return this.httpClient.delete(`${this.apiURL}/units/archive/${t}`,this.httpOptions).pipe(Object(a.a)(this.errorHandler))}errorHandler(t){let e="";return t.error instanceof ErrorEvent?(e=t.error.message,console.log("Client Side Error",e)):(e=`Server Side Error Code: ${t.status}\n Message: ${t.message}`,console.log(e)),Object(o.a)(console.log(e))}}return t.\u0275fac=function(e){return new(e||t)(n.Zb(r.a))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},yxaE:function(t,e,i){"use strict";i.r(e);var r=i("ofXK"),o=i("tyNb"),a=i("6zJa"),s=i("J4Hm"),n=i("xHgC"),c=i("+wT4"),b=i("fXoL"),l=i("3Pt+"),d=i("24YL");function p(t,e){if(1&t&&(b.Vb(0,"option",27),b.Ic(1),b.Ub()),2&t){const t=e.$implicit;b.nc("value",t._id),b.Db(1),b.Lc(" ",t.beginsAt,"/",t.endsAt," ")}}function m(t,e){if(1&t&&(b.Vb(0,"option",27),b.Ic(1),b.Ub()),2&t){const t=e.$implicit;b.nc("value",t._id),b.Db(1),b.Kc(" ",t.termName," ")}}function u(t,e){if(1&t&&(b.Vb(0,"option",27),b.Ic(1),b.Ub()),2&t){const t=e.$implicit;b.nc("value",t._id),b.Db(1),b.Kc(" ",t.unitName," ")}}const h=[{path:"",component:(()=>{class t{constructor(t,e,i,r,o,a,s,n,c){this.location=t,this.router=e,this.ngZone=i,this.examSetUpService=r,this.termService=o,this.yearService=a,this.classService=s,this.formBuilder=n,this.actRoute=c,this.history=[],this.examSetUp=[],this.academicTerms=[],this.academicYears=[],this.classes=[],this._id=this.actRoute.snapshot.paramMap.get("_id"),this.examSetUpService.getExamSetup(this._id).subscribe(t=>{this.examSetUp=t.data,this.editForm.patchValue(t.data)}),this.editForm=this.formBuilder.group({_id:[""],examName:[""],examCode:[""],termID:[""],yearID:[""],unitID:[""],examDescription:[""]})}ngOnInit(){this.getTermService(),this.getYearService(),this.getClassService()}getTermService(){this.termService.getTerms().subscribe(t=>{this.academicTerms=t.data})}getYearService(){this.yearService.getYears().subscribe(t=>{this.academicYears=t.data})}getClassService(){this.classService.getClasses().subscribe(t=>{this.classes=t.data})}onSubmit(t){this.examSetUpService.updateExamSetup(this._id,t.value).subscribe(()=>{this.ngZone.run(()=>this.router.navigateByUrl("/main/examSetUps"))},t=>{console.log(t)})}Cancel(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/main/examSetUps")}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(r.g),b.Pb(o.c),b.Pb(b.A),b.Pb(c.a),b.Pb(a.a),b.Pb(s.a),b.Pb(n.a),b.Pb(l.c),b.Pb(o.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-exam-set-up-edit"]],decls:53,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"card","card-info"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["formControlName","_id","id","_id","type","hidden"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","examName"],["formControlName","examName","id","examName","type","text",1,"form-control"],["for","examCode"],["formControlName","examCode","type","number","id","examCode",1,"form-control"],["for","yearID"],["formControlName","yearID","id","yearID",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","termID"],["formControlName","termID","id","termID",1,"form-control"],[1,"class-group"],["for","unitID"],["formControlName","unitID","id","unitID",1,"form-control"],["for","examDescription"],["type","text","formControlName","examDescription","id","examDescription",1,"form-control"],[1,"card-footer"],["type","submit",1,"btn","btn-info","mx-2",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(t,e){1&t&&(b.Qb(0,"app-header-breadcrumb"),b.Vb(1,"form",0),b.dc("ngSubmit",(function(){return e.onSubmit(e.editForm)})),b.Vb(2,"div",1),b.Vb(3,"div",2),b.Vb(4,"h5",3),b.Ic(5," Update ExamSetUp"),b.Ub(),b.Ub(),b.Vb(6,"div",4),b.Qb(7,"input",5),b.Vb(8,"div",6),b.Vb(9,"div",7),b.Vb(10,"div",8),b.Vb(11,"label",9),b.Ic(12,"Exam Name:"),b.Ub(),b.Qb(13,"input",10),b.Ub(),b.Ub(),b.Vb(14,"div",7),b.Vb(15,"div",8),b.Vb(16,"label",11),b.Ic(17,"Exam Code"),b.Ub(),b.Qb(18,"input",12),b.Ub(),b.Ub(),b.Vb(19,"div",7),b.Vb(20,"div",8),b.Vb(21,"label",13),b.Ic(22,"Academic Year"),b.Ub(),b.Vb(23,"select",14),b.Vb(24,"option",15),b.Ic(25,"-- Select academicYear --"),b.Ub(),b.Gc(26,p,2,3,"option",16),b.Ub(),b.Ub(),b.Ub(),b.Vb(27,"div",7),b.Vb(28,"div",8),b.Vb(29,"label",17),b.Ic(30,"Academic Term"),b.Ub(),b.Vb(31,"select",18),b.Vb(32,"option",15),b.Ic(33,"-- Select AcademicTerm --"),b.Ub(),b.Gc(34,m,2,2,"option",16),b.Ub(),b.Ub(),b.Ub(),b.Vb(35,"div",7),b.Vb(36,"div",19),b.Vb(37,"label",20),b.Ic(38,"Class"),b.Ub(),b.Vb(39,"select",21),b.Vb(40,"option",15),b.Ic(41,"-- Select class --"),b.Ub(),b.Gc(42,u,2,2,"option",16),b.Ub(),b.Ub(),b.Ub(),b.Vb(43,"div",7),b.Vb(44,"div",8),b.Vb(45,"label",22),b.Ic(46,"Exam Description"),b.Ub(),b.Qb(47,"input",23),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(48,"div",24),b.Vb(49,"button",25),b.Ic(50,"Update"),b.Ub(),b.Vb(51,"button",26),b.dc("click",(function(){return e.Cancel()})),b.Ic(52,"Cancel"),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&t&&(b.Db(1),b.nc("formGroup",e.editForm),b.Db(25),b.nc("ngForOf",e.academicYears),b.Db(8),b.nc("ngForOf",e.academicTerms),b.Db(8),b.nc("ngForOf",e.classes),b.Db(7),b.nc("disabled",!e.editForm.valid))},directives:[d.a,l.w,l.l,l.f,l.b,l.k,l.e,l.p,l.t,l.o,l.v,r.j],styles:[""]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(h)],o.g]}),t})();var U=i("EQGD"),g=i("K0h9");i.d(e,"ExamSetUpEditModule",(function(){return v}));let v=(()=>{class t{}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},imports:[[r.b,f,U.a,g.a]]}),t})()}}]);