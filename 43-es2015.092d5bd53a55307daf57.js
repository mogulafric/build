(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{Olgc:function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));var i=t("fXoL"),o=t("7zfz");let s=(()=>{class e{constructor(e){this.messageService=e}addSingle(e,r,t){this.messageService.add({severity:e,summary:r,detail:t})}addMultiple(e){this.messageService.addAll(e)}clear(){this.messageService.clear()}}return e.\u0275fac=function(r){return new(r||e)(i.Zb(o.d))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Yj9t:function(e,r,t){"use strict";t.r(r);var i=t("ofXK"),o=t("tyNb"),s=t("tk/3"),n=t("3Pt+"),a=t("4WRT"),c=t("Olgc"),d=t("AytR"),l=t("fXoL"),b=t("7CaW");function u(e,r){1&e&&(l.Vb(0,"div"),l.Ic(1,"email is required"),l.Ub())}function f(e,r){1&e&&(l.Vb(0,"div"),l.Ic(1,"the email format is not correct"),l.Ub())}function p(e,r){if(1&e&&(l.Vb(0,"div",16),l.Gc(1,u,2,0,"div",17),l.Gc(2,f,2,0,"div",17),l.Ub()),2&e){const e=l.gc();l.Db(1),l.nc("ngIf",e.f.email.errors.required),l.Db(1),l.nc("ngIf",e.f.email.errors.pattern)}}function m(e,r){1&e&&(l.Vb(0,"div"),l.Ic(1,"Password is required"),l.Ub())}function g(e,r){1&e&&(l.Vb(0,"div"),l.Ic(1,"Password must be at least 3 characters"),l.Ub())}function h(e,r){if(1&e&&(l.Vb(0,"div",16),l.Gc(1,m,2,0,"div",17),l.Gc(2,g,2,0,"div",17),l.Ub()),2&e){const e=l.gc();l.Db(1),l.nc("ngIf",e.f.password.errors.required),l.Db(1),l.nc("ngIf",e.f.password.errors.minlength)}}const v=function(e){return{"is-invalid":e}},w=[{path:"",component:(()=>{class e{constructor(e,r,t,i){this.routeStateService=e,this.formBuilder=r,this.http=t,this.toastService=i,this.loading=!1,this.submitted=!1,this.apiURL=d.a.apiUrl}ngOnInit(){this.version=d.a.version,this.form=this.formBuilder.group({email:["",n.u.required],password:["",n.u.required]})}get f(){return this.form.controls}onSubmit(){if(this.submitted=!0,!this.form.invalid&&this.form.valid){const e=JSON.stringify(this.form.value);this.http.post(this.apiURL+"/auth/login",e,{headers:new s.c({"Content-Type":"application/json","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Origin":"*","Cross-Origin":"true","Access-Control-Allow-Methods":"GET, POST, PATCH, DELETE, PUT, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"})}).subscribe(e=>{localStorage.setItem("jwt",e.accessToken),this.routeStateService.add("Dashboard","/main/dashboard",null,!0),this.toastService.addSingle("success","login successfully","")},e=>{this.toastService.addSingle("error","sorry, an error occurred try again","check your email, password or internet connection")})}}}return e.\u0275fac=function(r){return new(r||e)(l.Pb(a.a),l.Pb(n.c),l.Pb(s.a),l.Pb(c.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-login"]],decls:27,vars:11,consts:[[1,"login-panel"],[1,"p-grid","p-nogutter","p-justify-center","p-align-center",2,"height","100%"],[1,"p-xl-3","p-lg-6","p-md-8","p-sm-10"],[3,"header"],[3,"formGroup","ngSubmit"],[1,"p-grid","p-justify-center","p-align-center"],[1,"p-xl-6","p-lg-6","p-md-8","p-sm-10"],["src","assets/images/logo-large1.png",1,"login-logo"],[1,"p-col-12"],[1,"form-group"],["type","email","formControlName","email","placeholder","Enter user Email","pattern","^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Enter Password","minlength","3",1,"form-control",3,"ngClass"],[1,"btn","btn-primary"],[1,"extra-page-footer"],[1,"color-red"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,r){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"p-panel",3),l.Vb(4,"form",4),l.dc("ngSubmit",(function(){return r.onSubmit()})),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Qb(7,"img",7),l.Ub(),l.Vb(8,"div",8),l.Vb(9,"div",9),l.Qb(10,"input",10),l.Gc(11,p,3,2,"div",11),l.Ub(),l.Ub(),l.Vb(12,"div",8),l.Vb(13,"div",9),l.Qb(14,"input",12),l.Gc(15,h,3,2,"div",11),l.Ub(),l.Ub(),l.Ub(),l.Vb(16,"div",9),l.Vb(17,"button",13),l.Ic(18," Login "),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(19,"div",14),l.Vb(20,"div"),l.Ic(21,"School system. Made with "),l.Vb(22,"span",15),l.Ic(23,"\u2764"),l.Ub(),l.Ic(24,"."),l.Ub(),l.Vb(25,"div"),l.Ic(26),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.Db(3),l.oc("header","Login Page"),l.Db(1),l.nc("formGroup",r.form),l.Db(6),l.nc("ngClass",l.qc(7,v,r.submitted&&r.f.email.errors)),l.Db(1),l.nc("ngIf",r.submitted&&r.f.email.errors),l.Db(3),l.nc("ngClass",l.qc(9,v,r.submitted&&r.f.password.errors)),l.Db(1),l.nc("ngIf",r.submitted&&r.f.password.errors),l.Db(11),l.Kc("Version : ",r.version,""))},directives:[b.a,n.w,n.l,n.f,n.b,n.k,n.e,n.q,i.i,i.k,n.i],styles:[""]}),e})()}];let U=(()=>{class e{}return e.\u0275mod=l.Nb({type:e}),e.\u0275inj=l.Mb({factory:function(r){return new(r||e)},imports:[[o.g.forChild(w)],o.g]}),e})();var y=t("sYmb"),V=t("EQGD"),S=t("ZAI4");t.d(r,"AuthModule",(function(){return I}));let I=(()=>{class e{}return e.\u0275mod=l.Nb({type:e}),e.\u0275inj=l.Mb({factory:function(r){return new(r||e)},imports:[[i.b,U,n.h,n.r,V.a,y.b.forChild({loader:{provide:y.a,useFactory:S.b,deps:[s.a]},isolate:!1})]]}),e})()}}]);