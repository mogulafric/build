(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{K0h9:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("EQGD"),n=i("fXoL");let r=(()=>{class t{}return t.\u0275mod=n.Nb({type:t}),t.\u0275inj=n.Mb({factory:function(e){return new(e||t)},imports:[[s.a]]}),t})()},Olgc:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("fXoL"),n=i("7zfz");let r=(()=>{class t{constructor(t){this.messageService=t}addSingle(t,e,i){this.messageService.add({severity:t,summary:e,detail:i})}addMultiple(t){this.messageService.addAll(t)}clear(){this.messageService.clear()}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(n.d))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},gu99:function(t,e,i){"use strict";i.r(e);var s=i("ofXK"),n=i("tyNb"),r=i("J7/z"),a=i("AlMu"),o=i("Olgc"),c=i("dK7b"),l=i("PsXC"),p=i("fXoL"),u=i("24YL"),b=i("7CaW"),d=i("rEr+"),h=i("7zfz"),g=i("3Pt+"),m=i("7kUa");function f(t,e){if(1&t&&(p.Vb(0,"th"),p.Ic(1),p.Ub()),2&t){const t=e.$implicit;p.Db(1),p.Kc(" ",t.header," ")}}function C(t,e){if(1&t&&(p.Vb(0,"tr",11),p.Gc(1,f,2,1,"th",12),p.Vb(2,"th"),p.Ic(3,"Class"),p.Ub(),p.Vb(4,"th"),p.Ic(5,"Action"),p.Ub(),p.Ub()),2&t){const t=p.gc();p.Db(1),p.nc("ngForOf",t.columns)}}function v(t,e){if(1&t&&(p.Vb(0,"td"),p.Vb(1,"div"),p.Ic(2),p.Ub(),p.Ub()),2&t){const t=e.$implicit,i=p.gc().$implicit;p.Db(2),p.Jc(i[t.field])}}const S=function(t){return["/main/classExams/","classExam-details",t]},U=function(t){return["/main/classExams/","classExam-edit",t]};function w(t,e){if(1&t){const t=p.Wb();p.Vb(0,"tr",11),p.Gc(1,v,3,1,"td",12),p.Vb(2,"td"),p.Ic(3),p.Ub(),p.Vb(4,"td"),p.Vb(5,"div",13),p.Vb(6,"button",14),p.Ic(7,"View"),p.Ub(),p.Vb(8,"button",15),p.Ic(9,"Edit"),p.Ub(),p.Vb(10,"button",16),p.dc("click",(function(){p.zc(t);const i=e.$implicit;return p.gc().deleteclassExam(i._id)})),p.Ic(11,"Delete"),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,i=p.gc();p.Db(1),p.nc("ngForOf",i.columns),p.Db(2),p.Jc(t.unitID),p.Db(3),p.nc("routerLink",p.qc(4,S,t._id)),p.Db(2),p.nc("routerLink",p.qc(6,U,t._id))}}function x(t,e){1&t&&(p.Vb(0,"tr"),p.Vb(1,"td",17),p.Ic(2,"No data found."),p.Ub(),p.Ub())}const E=[{path:"",component:(()=>{class t{constructor(t,e,i,s){this.dialogService=t,this.classExamsService=e,this.toastService=i,this.applicationStateService=s,this.classExams=[],this.isMobileResolution=!1}ngOnInit(){this.isMobileResolution=this.applicationStateService.getIsMobileResolution(),this.pageSize=10,this.columns=[{field:"examName",header:"Name"},{field:"examCode",header:"Code"},{field:"termID",header:"Term"},{field:"yearID",header:"Year"}],this.getClassExams()}getClassExams(){this.classExamsService.getClassExams().subscribe(t=>{this.classExams=t.data,this.toastService.addSingle("success","Exams Loaded","")})}openNew(){this.dialogService.open(l.a,{data:{},header:"Add New Stream",width:this.isMobileResolution?"400px":"600px"}).onClose.subscribe(t=>{t&&this.toastService.addSingle("success","panel closed","")})}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(r.a),p.Pb(c.a),p.Pb(o.a),p.Pb(a.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-class-exam-list"]],features:[p.Cb([r.a])],decls:15,vars:5,consts:[["pRipple","",1,"btn","btn-success","btn-sm","m-1",3,"click"],["header","ClassExams"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"ui-g"],[1,"ui-g-10","ui-sm-8"],[2,"float","right"],[1,"ui-g-2","ui-sm-4"],["type","text","pInputText","",3,"ngModel","ngModelChange"],[1,"text-sm"],[4,"ngFor","ngForOf"],[1,"flex"],["pRipple","",1,"btn","btn-info","btn-sm",2,"margin-right","16px",3,"routerLink"],["pRipple","",1,"btn","btn-primary","btn-sm",2,"margin-right","16px",3,"routerLink"],["pRipple","",1,"btn","btn-danger","btn-sm",3,"click"],["colspan","6"]],template:function(t,e){1&t&&(p.Qb(0,"app-header-breadcrumb"),p.Vb(1,"div"),p.Vb(2,"button",0),p.dc("click",(function(){return e.openNew()})),p.Ic(3,"Create Class Exam"),p.Ub(),p.Ub(),p.Vb(4,"p-panel",1),p.Vb(5,"p-table",2),p.Gc(6,C,6,1,"ng-template",3),p.Gc(7,w,12,8,"ng-template",4),p.Gc(8,x,3,0,"ng-template",5),p.Ub(),p.Vb(9,"div",6),p.Vb(10,"div",7),p.Vb(11,"label",8),p.Ic(12,"Page Size:"),p.Ub(),p.Ub(),p.Vb(13,"div",9),p.Vb(14,"input",10),p.dc("ngModelChange",(function(t){return e.pageSize=t})),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Db(5),p.nc("value",e.classExams)("paginator",!0)("rows",e.pageSize)("showCurrentPageReport",!0),p.Db(9),p.nc("ngModel",e.pageSize))},directives:[u.a,b.a,d.c,h.e,g.b,m.a,g.k,g.n,s.j,n.d],styles:[""]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=p.Nb({type:t}),t.\u0275inj=p.Mb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(E)],n.g]}),t})();var V=i("EQGD"),y=i("K0h9");i.d(e,"ClassExamListModule",(function(){return I}));let I=(()=>{class t{}return t.\u0275mod=p.Nb({type:t}),t.\u0275inj=p.Mb({factory:function(e){return new(e||t)},imports:[[s.b,O,y.a,V.a]]}),t})()},xHgC:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s=i("tk/3"),n=i("z6cu"),r=i("JIr8"),a=i("AytR"),o=i("fXoL");let c=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=a.a.apiUrl,this.httpOptions={headers:new s.c({"Content-Type":"application/json","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Origin":"*","Cross-Origin":"true","Access-Control-Allow-Methods":"GET, POST, PATCH, DELETE, PUT, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With",Authorization:"Bearer "+localStorage.getItem("jwt")})}}getClasses(){return this.httpClient.get(this.apiURL+"/units/getallunits",this.httpOptions).pipe(Object(r.a)(this.errorHandler))}getClass(t){return this.httpClient.get(`${this.apiURL}/units/getunit/${t}`,this.httpOptions).pipe(Object(r.a)(this.errorHandler))}createClass(t){return this.httpClient.post(`${this.apiURL}/units/registerunit`,JSON.stringify(t),this.httpOptions).pipe(Object(r.a)(this.errorHandler))}updateClass(t,e){return this.httpClient.patch(`${this.apiURL}/units/updateunit`,JSON.stringify(e),this.httpOptions).pipe(Object(r.a)(this.errorHandler))}deleteClass(t){return this.httpClient.delete(`${this.apiURL}/units/archive/${t}`,this.httpOptions).pipe(Object(r.a)(this.errorHandler))}errorHandler(t){let e="";return t.error instanceof ErrorEvent?(e=t.error.message,console.log("Client Side Error",e)):(e=`Server Side Error Code: ${t.status}\n Message: ${t.message}`,console.log(e)),Object(n.a)(console.log(e))}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(s.a))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);